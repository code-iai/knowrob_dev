{
  "query": [
    {"q": "", "text": "----- init -----"},
    {"q": "visualisation_canvas, diagram_canvas.", "text": "initialize canvases"},
    {"q": "owl_parse('/var/roslog/current-experiment/cram_log.owl', false, false, true).", "text": "parse owl file"},
    {"q": "owl_individual_of(A, knowrob:'SemanticEnvironmentMap'), !, add_object_with_children(A).", "text": "load semantic map"},
    
    {"q": "", "text": ""},
    {"q": "", "text": "----- Belief of the Robot -----"},
    {"q": "task(T), task_goal(T, '(OBJECT-PLACED-AT ?OBJ ?LOC)'), task_start(T, S), task_end(T, E), add_trajectory('/base_link', S, E, '0.1').", "text": "PR2's path during a pick-and-place sequence"},
    {"q": "findall([Obj, E], \n ((task_end(T,E), task_class(T,knowrob:'UIMAPerception'), rdf_has(T, knowrob:'perceptionResult', Obj))), \n Objs),!, member([Obj, E], Objs), belief_at(loc(Obj,Loc), E), \n add_object_as_semantic_instance(Obj, Loc, E, SemanticMapInstance), \n add_object_with_children(SemanticMapInstance).", "text": "Where were the objects perceived during the execution?"},
    {"q": "findall(E,((task_end(T,E), task_goal(T,'PUTDOWN'))), Es),!, member(E, Es), \n mng_robot_pose_at_time(pr2:'PR2Robot1','/map',E,Pose),\n add_robot_as_basic_semantic_instance(Pose, E, SemanticMapInstance), \nadd_object_with_children(SemanticMapInstance), \nhighlight_object(SemanticMapInstance).", "text": "What were the robot poses during all PUT-DOWN Actions?"},
    {"q": "successful_instances_of_given_goal('PUTDOWN', Tasks), \n member(T, Tasks), task_end(T,End), !,\n mng_robot_pose_at_time(pr2:'PR2Robot1','/map',End,Pose),\n add_object_with_children(pr2:'PR2Robot1',End).", "text": " Where was the robot localized at the time of a successful putdown?"},
    {"q": "task_start(T,S), task_end(T,E), task_goal(T,'PUTDOWN'), !,\n arm_used_for_manipulation(T, Link), add_trajectory(Link, S, E, '0.1').", "text": "What is the trajectory of the arm during a PUT-DOWN Action?"},
    {"q": "remove_object_with_children(pr2:'PR2Robot1').", "text": "Stop publishing PR2 markers"},
    {"q": "remove_trajectory('/base_link'), \n remove_trajectory('/l_wrist_roll_link'), \n remove_trajectory('/r_wrist_roll_link').", "text": "Stop publishing trajectories to the scene"},

    
    {"q": "", "text": ""},
    {"q": "", "text": "----- Logfile statistics -----"},
    {"q": "Labels = ['ManipulationPoseUnreachable', 'ObjectNotFound', 'ManipulationFailed', 'LocationNotReached', 'ObjectLost', 'ManipulationPoseOccupied'],findall(N, (\nmember(Error, Labels),\n    findall(E, (failure_class(E, C), string_concat('http://ias.cs.tum.edu/kb/knowrob.owl#', Error, C)), List), length(List, N)\n  ),\nOccurence),\nadd_diagram(iderror, 'error distribution', barchart, xlabel, ylabel, '210', '210', '12px', [[Labels,Occurence]]).", "text": "Show occurences of typical error types in bar or donut chart"},
    {"q": "findall(FailClass,(task_class(T, knowrob:'PerformOnProcessModule'), failure_task(F, T), failure_class(F, FailClass)), FailReasons).", "text": " Which were common problems for a certain task type?"},
     

    {"q": "", "text": ""},
    {"q": "", "text": "----- Task Tree -----"},
    {"q": "assert((\n  tasktree(Task, List):-\n    findall(Subsub,\n      (\n        subtask(Task, Sub),\n        tasktree(Sub, Subsub)\n      ),\n      Sublist),\n    List = [Task, Sublist]\n)).", "text": "Assert tasktree rule (needed for following query, only invoke once)"},
    {"q": "owl_parse('path/to/log/pick-and-place.owl', false, false, true).", "text": "load owl file"},
    {"q": "Root = 'http://ias.cs.tum.edu/kb/cram_log.owl#CRAMAction_m2XW5s7U',\ntasktree(Root, List), flatten(List, Flat), once(maplist( \\X^Node^(((subtask(P, X), Parent = P); Parent = X), ((returned_value(X, Value), Color = red); Color = green),\natom_concat('Name: ', X, Namestring),\natom_concat('Parent: ', Parent, Parentstring),\nNode = [[X, Parent, Color],[Namestring, Parentstring, Color]]), Flat, Nodes)), add_diagram(tree, title, treechart, xlabel, ylabel, '960', '500', '12px', Nodes).", "text": "Show tasks and subtasks as a tree (adjust root node)"},

 
    {"q": "", "text": ""},
    {"q": "", "text": "----- Highlighting an object -----"},
    {"q": "highlight_object_with_children('http://ias.cs.tum.edu/kb/knowrob.owl#Refrigerator67').", "text": "highlight object"},
    {"q": "reset_highlight.", "text": "reset highlight"}


  ]
}
